{% extends "game_layout.html" %}
{% block title %}Home page{% endblock %}
{% block content %}


<div class="container body-content" xmlns="http://www.w3.org/1999/html">
    <div class="jumbotron bg-warning text-center" id="home">
        <h1>Pokemon: The Game</h1>
        <p>Get Ready to take on your opponent! This is the start of your journey, the beginning of the rest of your life.<br>
         This round you are the {{option}} </p>
    </div>
</div>


<style>
    .horizontal-centre {
        display: flex;
        justify-content: center;
        }
</style>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


<script>
  function startA() {
    $.ajax({
        url: "/startA",
        type: "get",
        data: {},
        success: function(response) {
          $("#cardA").html(response)
        },
        error: function(err) {}
    });
  }
  function startB() {
    $.ajax({
        url: "/startB",
        type: "get",
        data: {},
        success: function(response) {
          $("#cardB").html(response)
        },
        error: function(err) {}
    });
  }
  function flipA() {
    $.ajax({
        url: "/flipA",
        type: "get",
        data: {},
        success: function(response) {
          $("#cardA").html(response)
        },
        error: function(err) {}
    });
  }
  function flipB() {
    $.ajax({
        url: "/flipB",
        type: "get",
        data: {},
        success: function(response) {
          $("#cardB").html(response)
        },
        error: function(err) {}
    });
  }
  function flip() {
    flipA();
    flipB();
  }
   function first_pokemon_type() {
    $.ajax({
        url: "/initial_pokemon_type",
        type: "get",
        data: {},
        success: function(response) {
            $("#initialType").html(response)
           },
         error: function(err) {}
    });
 }
    function second_pokemon_type() {
    $.ajax({
        url: "/second_pokemon_type",
        type: "get",
        data: {},
        success: function(response) {
            $("#secondType").html(response)
           },
         error: function(err) {}
    });
 }
</script>


<audio id="gameAudio">
    <source src="static/Game_Music.mp3" type="audio/mpeg">
</audio>


<script>
var x = document.getElementById("gameAudio");

function playAudio() {
  x.play();
}

function pauseAudio() {
  x.pause();
}

</script>


<div class="container">
    <div class="horizontal-centre">
        <a onclick="startA(); startB(); first_pokemon_type(); second_pokemon_type(), style.display='none'" class="btn btn-danger text-white"> Start!</a>
    </div>
</div>


<div class="container" id="cardset">
    <div class="row">
        <div class="col-md-6 col-lg-4">
            <div id="cardA"></div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div id="cardB"></div>
        </div>
    </div>
</div>


<div class="container">
<!--    <div class="column horizontal-centre">-->
<!--        <button class="bg-warning" onclick="nextButtonA(); nextButtonB(); first_pokemon_type()"> Attack using <div id="initial_pokemon_type"></div> </button>-->
<!--        <button class="bg-warning" onclick="nextButtonA(); nextButtonB()"> Attack using {{type2}} </button>-->
<!--        <button class="bg-warning" onclick="playAudio()" type="button">Play Audio</button>-->
<!--        <button class="bg-primary" onclick="pauseAudio()" type="button">Pause Audio</button>-->
<!--    </div>-->
    <div class=" column horizontal-centre">
        <iframe name="dummyframe" id="dummyframe" style="display:none;"></iframe>
        <form action= "/attackPokemon" target="dummyframe">
            <label for="types"> Choose an attack type: </label>
            <select name="types" id="types" required>
                <option value="">None</option>
                <option value="{{type1}}" id="initialType"></option>
                <option value="{{type2}}" id="secondType"></option>
            </select>
            <input class="bg-primary" type="submit" value="Attack" onclick="first_pokemon_type(); second_pokemon_type(); flip(); show()">
            <button id="continue" onclick="flip()">Continue</button>
        </form>
    </div>
</div>
<div style="margin:10px;"></div>

<!--onclick="nextButtonA(); nextButtonB(); first_pokemon_type(); second_pokemon_type()"-->
{% endblock %}